# ELASTICSEARCH的核心概念
索引的功能就类似与我们新华字典前面的目录，目录可以提高查询的效率。

Elasticsearch索引的精髓：一切都是为了提高搜索的性能.




## 映射
```text
    mapping是处理数据的方式和规则方面做了一些限制，如：某个字段的数据类型、默认值、分析器、
是否被索引等等。这些都是映射里面可以设置的，其他的就是处理ES里面的数据的一些使用规则也叫映射，
按着最优规则处理书对性能提高很大，因此才需要建立映射，并且需要思考如何建立映射才能对性能更好。
```
## 分片
```text
   一个索引可以存储超出单个结点硬件限制的大量数据。比如，一个具有10亿文档数据的索引占据1TB的磁盘空间，
而任一节点都可能没有这样大的磁盘空间。或者单个系欸但处理搜索请求，响应太慢。为了解决这个问题，Elastic
search提高了将索引划分为多分的能力，每一份就称之为分片。当你创建一个索引的时候，你可以指定你想要的分片的
数量。每个分片本身也就是一个功能完整并且独立的"索引",这个"索引"可以被防止到集群的任何结点上。
    分片重要的主要原因是：
    1)允许我们水平切割/扩展存储的容量
    2)允许在分片上进行分布式的，并行的操作，进而提高性能/吞吐量

```

## 副本
```text
    在一个网络/云的环境里面，失败随时都可能发生，在某个分片/结点不知道怎么的就处于离线的状态，或者由于任何原因消失了，
这种情况下，有一个故障转移机制是非常有用并且是强烈推荐的。为此目的，ElasticSearch允许我们创建分片的一份或者多份拷贝，
这些拷贝叫做复制分片(副本)
    分片副本的重要的原因：
    1)在分片失败的情况下，提供了高可用性。因为这个原因，注意到复制分片从不与原/主要(original/primary)分片制语同一个结点上是非常重要。
    2)扩展了es的搜索/吞吐量，因为搜索可以在所有的副本上进行并行运行.

```

## 分配(Allocation)
```text
    将分片分配给某个结点的过程，包括分配主分片或者副本。如果是副本，好包括从主分片复制数据的过程。这个过程是有master节点完成的。
```